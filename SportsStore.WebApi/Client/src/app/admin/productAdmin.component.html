
<table class="table table-sm table-striped" *ngIf="tableMode; else create">
  <thead>
      <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Category</th>
          <th>Supplier</th>
          <th>Price</th>
          <th></th>
        </tr>
  </thead>
  <tbody>
    <tr *ngFor="let p of products">
      <ng-template [ngIf]="showTableRow(p.productId)" [ngIfElse]="edit">
          <td>{{ p.productId }}</td>
          <td>{{p.name}}</td>
          <td>{{p.category}}</td>
          <td>{{p.category}}</td>
          <td>{{p.supplier?.name || '(None)'}}</td>
          <td>{{p.price | currency:'USD':true}}</td>
          <td>
            <button class="btn btn-sm btn-primary" (click)="selectProduct(p.productId)">
              Edit
            </button>
            <button class="btn btn-sm btn-danger" (click)="deleteProduct(p.productId)">
                Delete
            </button>
          </td>
      </ng-template>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td colspan="6" class="text-center">
          <button class="btn btn-primary" (click)="clearProduct(); tableMode=false;">
            Create
          </button>
      </td>
    </tr>
  </tfoot>
</table>

<ng-template #create>
  <admin-product-editor></admin-product-editor>
  <button class="btn btn-primary" (click)="saveProduct();">
    Save
  </button>
  <button class="btn btn-info" (click)="clearProduct();">
    Cancel
  </button>
</ng-template>

<ng-template #edit>
  <td colspan="6">
    <admin-product-editor></admin-product-editor>
    <div class="text-center">
      <button class="btn btn-sm btn-primary" (click)="saveProduct();">
        Save
      </button>
      <button class="btn btn-sm btn-info" (click)="clearProduct();">
        Cancel
      </button>
    </div>
  </td>
</ng-template>
